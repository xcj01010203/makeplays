/*

Title:		jQMeter: a jQuery Progress Meter Plugin
Author:		Gerardo Larios
Version:	0.1.2
Website:	http://www.gerardolarios.com/plugins-and-tools/jqmeter
License: 	Dual licensed under the MIT and GPL licenses.

*/

!function(e){
	e.fn.extend({
		jQMeter:function(t){
			t&&"object"==typeof t&&(t=e.extend({},
			e.jQMeter.defaults,t)),
			this.each(function(){new e.jQMeter(this,t)})
			}
		}),
		e.jQMeter=function(t,r){
		if(goal= parseFloat(r.goal.replace(/,/g,"")),
				raised=parseFloat(r.raised.replace(/,/g,"")),raised/goal*100<70){
			if(goal= parseFloat(r.goal.replace(/,/g,"")),
				raised=parseFloat(r.raised.replace(/,/g,"")),
				width=r.width,
				height=r.height,
				bgColor=r.bgColor,
				barColor=r.barColor,
				orientation=r.orientation,
				animationSpeed=r.animationSpeed,
				counterSpeed=r.counterSpeed,
				displayTotal=r.displayTotal,
				total=(raised/goal)*100,
			/*	total>=100&&(total=100),*/
		
					"vertical"==orientation?(
					e(t).children(".outer-therm").attr("style","width:"+width+";height:"+height+";background-color:"+bgColor),
					e(t).children(".outer-therm").children(".inner-therm").attr("style","background-color:"+barColor+";height:0;width:"+width),
					e(t).children(".outer-therm").children(".inner-therm").animate({width:total+"%"},(animationSpeed+3000))
				)
				:(e(t).html('<div class="therm outer-therm"><div class="therm inner-therm"></div><span style="display:none;">'+total+"</span></div>"),
					e(t).children(".outer-therm").attr("style","width:"+width+";height:"+height+";background-color:"+bgColor),
					e(t).children(".outer-therm").children(".inner-therm").attr("style","background-color:"+barColor+";height:"+height+";width:0"),
					e(t).children(".outer-therm").children(".inner-therm").animate({width:total+"%"},(animationSpeed+3000))),displayTotal){var i=parseInt(height),n=i/2-13+"px 10px";"horizontal"!=orientation&&(n="10px 0"),
					e(t).children(".outer-therm").children("span").show(),
					e(t).children(".outer-therm").children("span").css("padding",n),
					e({Counter:0}).animate({Counter:e(t).children(".outer-therm").children("span").text()},
					{duration:(counterSpeed+3000),easing:"swing",step:function(){e(t).children(".outer-therm").children("span").text(Math.ceil(total)+"%")}}			
					)
				}
				e(t).append("<style>.therm{height:30px;border-radius:5px;}.outer-therm{margin:20px 0;}.inner-therm{float:left;}.outer-therm span {color: #fff;display: inline-block;float:left;font-family: Trebuchet MS;font-size: 20px;font-weight: bold;}</style>")
									
				}else{
					if(goal=parseFloat(r.goal.replace(/,/g,"")),
					raised=parseFloat(r.raised.replace(/,/g,"")),
					width=r.width,
					height=r.height,
					bgColor=r.bgColor,
					barColor=r.barColor,
					orientation=r.orientation,
					animationSpeed=r.animationSpeed,
					counterSpeed=r.counterSpeed,
					displayTotal=r.displayTotal,
					total=(raised/goal)*100,
				/*	total>=100&&(total=100),*/
					"vertical"==orientation?(e(t).html('<div class="therm outer-therm vertical"><div class="therm inner-therm vertical"><span style="display:none;">'+total+"</span></div></div>"),
					e(t).children(".outer-therm").attr("style","width:"+width+";height:"+height+";background-color:"+bgColor),
					e(t).children(".outer-therm").children(".inner-therm").attr("style","background-color:"+barColor+";height:0;width:"+width),
					e(t).children(".outer-therm").children(".inner-therm").animate({height:total+"%"},(animationSpeed+3000))):(e(t).html('<div class="therm outer-therm"><div class="therm inner-therm"><span style="display:none;">'+total+"</span></div></div>"),e(t).children(".outer-therm").attr("style","width:"+width+";height:"+height+";background-color:"+bgColor),
					e(t).children(".outer-therm").children(".inner-therm").attr("style","background-color:"+barColor+";height:"+height+";width:0"),
					e(t).children(".outer-therm").children(".inner-therm").animate({width:total+"%"},(animationSpeed+3000))),displayTotal){var i=parseInt(height),n=i/2-13+"px 10px";"horizontal"!=orientation&&(n="10px 0"),
					e(t).children(".outer-therm").children(".inner-therm").children().show(),
					e(t).children(".outer-therm").children(".inner-therm").children().css("padding",n),
					e({Counter:0}).animate({Counter:e(t).children(".outer-therm").children(".inner-therm").children().text()},
					{duration:(counterSpeed+3000),easing:"swing",step:function(){e(t).children(".outer-therm").children(".inner-therm").children().text(Math.ceil(total)+"%")}})}
					e(t).append("<style>.therm{height:30px;border-radius:5px;}.outer-therm{margin:20px 0;}.inner-therm span {color: #fff;display: inline-block;float: right;font-family: Trebuchet MS;font-size: 20px;font-weight: bold;}.vertical.inner-therm span{width:100%;text-align:center;}</style>")
					
					}
	},
			e.jQMeter.defaults={width:"100%",height:"50px",bgColor:"#444",barColor:"#bfd255",orientation:"horizontal",animationSpeed:2e3,counterSpeed:2e3,displayTotal:!0}}(jQuery);
			
			